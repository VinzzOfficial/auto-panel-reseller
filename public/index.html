<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Panel</title>

<style>
* {
  box-sizing: border-box;
  font-family: Arial, Helvetica, sans-serif;
}

body {
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
}

.app {
  width: 360px;
  background: #111;
  border-radius: 20px;
  padding: 20px;
  color: #fff;
  box-shadow: 0 20px 50px rgba(0,0,0,.6);
}

.app h2 {
  text-align: center;
  margin-bottom: 20px;
}

.row {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

.input-box {
  flex: 1;
  background: #1c1c1c;
  border-radius: 14px;
  padding: 12px;
  display: flex;
  align-items: center;
}

.input-box span {
  font-size: 18px;
  margin-right: 8px;
}

.input-box input,
.input-box select {
  width: 100%;
  background: transparent;
  border: none;
  outline: none;
  color: #fff;
  font-size: 14px;
}

button {
  width: 100%;
  background: linear-gradient(135deg, #ff512f, #dd2476);
  border: none;
  padding: 14px;
  border-radius: 14px;
  font-size: 16px;
  color: #fff;
  cursor: pointer;
}

button:active {
  transform: scale(0.97);
}

.loading {
  display: none;
  text-align: center;
  margin-top: 15px;
}

.spinner {
  width: 30px;
  height: 30px;
  border: 4px solid #444;
  border-top: 4px solid #ff512f;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 10px auto;
}

@keyframes spin {
  100% { transform: rotate(360deg); }
}

.result {
  margin-top: 15px;
  font-size: 13px;
  background: #1c1c1c;
  padding: 12px;
  border-radius: 12px;
  white-space: pre-wrap;
}
</style>
</head>

<body>

<div class="app">
  <h2>üöÄ Create Panel</h2>

  <!-- USERNAME + RAM -->
  <div class="row">
    <div class="input-box">
      <span>üë§</span>
      <input id="username" placeholder="Username">
    </div>

    <div class="input-box">
      <span>üíæ</span>
      <select id="ram">
        <option value="">RAM</option>
        <option value="1024">1 GB</option>
        <option value="2048">2 GB</option>
        <option value="3072">3 GB</option>
        <option value="4096">4 GB</option>
        <option value="5120">5 GB</option>
        <option value="6144">6 GB</option>
        <option value="7168">7 GB</option>
        <option value="8192">8 GB</option>
        <option value="9216">9 GB</option>
        <option value="10240">10 GB</option>
        <option value="0">UNLI</option>
      </select>
    </div>
  </div>

  <button onclick="createPanel()">Create Panel</button>

  <div class="loading" id="loading">
    <div class="spinner"></div>
    <p>Creating panel...</p>
  </div>

  <div class="result" id="result"></div>
</div>

<script>
async function createPanel() {
  const username = document.getElementById("username").value.trim();
  const ram = document.getElementById("ram").value;

  if (!username || !ram) {
    alert("Username & RAM wajib diisi!");
    return;
  }

  document.getElementById("loading").style.display = "block";
  document.getElementById("result").innerText = "";

  try {
    const res = await fetch("/create-panel", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ username, ram })
    });

    const data = await res.json();

    document.getElementById("loading").style.display = "none";
    document.getElementById("result").innerText =
      "‚úÖ SUCCESS\n\n" +
      "Username: " + data.username + "\n" +
      "Email: " + data.email + "\n" +
      "Password: " + data.password + "\n" +
      "RAM: " + (ram == 0 ? "UNLI" : ram / 1024 + " GB");

  } catch (e) {
    document.getElementById("loading").style.display = "none";
    document.getElementById("result").innerText = "‚ùå Error create panel";
  }
}
</script>

</body>
</html>
